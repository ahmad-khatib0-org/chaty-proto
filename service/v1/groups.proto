syntax = "proto3";

package service.v1;

import "service/v1/channels_db.proto";
import "shared/v1/error.proto";
import "shared/v1/pagination.proto";

message GroupsCreateRequest {
  string name = 1;
  optional string description = 2;
  repeated string recipients = 3;
  optional bool nsfw = 4;
}

message GroupsCreateResponse {
  oneof response {
    GroupsCreateResponseData data = 1;
    shared.v1.AppError error = 2;
  }
}

message GroupsCreateResponseData {
  string message = 1;
}

message GroupsListRequest {
  shared.v1.PaginationRequest pagination = 1;
}

message GroupsListResponse {
  oneof response {
    GroupsListResponseData data = 1;
    shared.v1.AppError error = 2;
  }
}

message GroupsListResponseData {
  repeated GroupsListItem groups = 1;
}

message GroupsListItem {
  string id = 1; // channel id
  service.v1.ChannelGroup group = 2;
  int64 created_at = 3;
}
